# GitHub Release 創建指南

本指南將幫助您在 GitHub 上創建 Relax Time 的發布版本。

## 前置步驟

### 1. 構建發布文件

運行構建腳本：

```bash
uv run python build_release.py
```

這會自動：
- 構建 exe 文件
- 構建安裝程式（如果已安裝 Inno Setup）
- 將所有發布文件複製到 `release/` 目錄

### 2. 檢查發布文件

確保 `release/` 目錄包含：
- `RelaxTime.exe` - 可執行文件
- `RelaxTime-Setup-0.5.0.exe` - 安裝程式（如果已構建）
- `README.md` - 說明文檔
- `RELEASE_NOTES.md` - 發布說明

## 在 GitHub 創建 Release

### 步驟 1: 創建 Tag

```bash
# 創建並推送 tag
git tag -a v0.5.0 -m "Release version 0.5.0"
git push origin v0.5.0
```

或者使用 GitHub Web 界面：
- 前往 Releases 頁面
- 點擊 "Create a new release"
- 在 "Choose a tag" 中輸入 `v0.5.0`
- 選擇 "Create new tag: v0.5.0 on publish"

### 步驟 2: 填寫 Release 信息

**Release title（標題）：**
```
Relax Time v0.5.0
```

**Release notes（說明）：**

可以使用 `RELEASE_NOTES.md` 的內容，或者使用以下精簡版本（包含版本差異說明）：

```markdown
## 🎉 Relax Time v0.5.0

Relax Time 是一個專為 Windows 設計的時間管理工具，幫助您管理工作時間和休息時間。

## 🆕 v0.5.0 新增功能（相對於 v0.3.0）

### 🎬 全螢幕倒數遮罩（多螢幕支援）
- 在倒數計時剩下 5 秒時顯示全螢幕透明黑色遮罩
- **多螢幕支援**：自動檢測所有顯示器，支援 Extend 模式（如 15.6" + 27" 外接螢幕）
- 為每個螢幕創建獨立的遮罩視窗，確保所有螢幕都被覆蓋
- 主螢幕顯示大號倒數數字：5, 4, 3, 2, 1
- 其他螢幕只顯示遮罩（不顯示數字）
- 倒數完成後自動關閉遮罩並進入休息模式
- 提供更好的視覺提示，讓用戶清楚知道即將進入休息

### 🚫 功能調整
- **移除休息時間的遮罩**：從休息返回工作時不再顯示倒數計時和遮罩
  - 休息時間結束後直接恢復視窗，無需等待倒數
  - 提供更流暢的用戶體驗

### ⚙️ 設定視窗整合（v0.3.0 已包含）
- 創建統一的設定界面，所有設定選項整合到一個視窗中
- 休息時間設定：可在設定視窗中調整休息時間（預設 5 分鐘，以 5 分鐘為單位）
- UI 簡化：移除主視窗中的多餘按鈕，界面更加簡潔

## 🆕 v0.2.0 新增功能（相對於 v0.1.0）

### 🔊 倒數18秒提示音（v0.3.0 已更新為18秒，v0.5.0 繼續支援）
- 當計時器倒數到最後18秒時，自動播放美妙的提示音
- 幫助您提前準備，避免錯過休息時間
- 每個計時週期只播放一次，不會重複

### 📦 安裝程式支援
- **Inno Setup 安裝程式**：提供標準 Windows 安裝流程（.exe）
  - 支援桌面快捷方式、開始菜單、開機啟動選項
  - 完整的卸載功能

### 🛠️ 開發工具
- 自動化發布構建腳本（`build_release.py`）
- 一鍵構建 exe 和安裝程式

## ✨ 主要功能（包含 v0.1.0 的所有功能）

- ⏱️ 智能計時器（可調整時間，預設 30 分鐘）
- 👁️ 自動眼睛休息模式（5 分鐘）
- 🔄 循環模式（自動重新開始）
- 🔽 系統托盤整合
- 🚀 開機自動啟動
- 🎨 鬧鐘圖標和現代化界面設計

## 📦 下載

### 推薦：安裝程式
- **Inno Setup 版本**：下載 `RelaxTime-Setup-0.5.0.exe` 並執行安裝

### 便攜版
下載 `RelaxTime.exe` 直接執行（無需安裝）

## 🚀 快速開始

1. 設定工作時間（預設 30 分鐘）
2. 點擊「開始」按鈕
3. 倒數最後18秒時會播放提示音
4. 時間到後自動進入休息模式
5. 可啟用循環模式自動繼續工作

## 📋 系統要求

- Windows 7 或更高版本
- 無需安裝 Python 或其他依賴

## 📝 完整更新日誌

詳細的更新記錄請參考 [CHANGED.md](../CHANGED.md)

---

**完整文檔：** 請參考 README.md
```

### 步驟 3: 上傳文件

在 "Attach binaries" 區域：

1. 上傳 `RelaxTime-Setup-0.5.0.exe`（安裝程式）- **推薦**
2. 上傳 `RelaxTime.exe`（可執行文件）- 便攜版

**建議：**
- 將安裝程式作為主要下載選項
- 將 exe 文件作為 "Portable version" 或 "免安裝版" 標註

### 步驟 4: 發布

- 如果這是正式版本，點擊 "Publish release"
- 如果是預發布版本（測試用），勾選 "Set as a pre-release" 然後發布

## Release 後續步驟

1. **更新文檔**（可選）
   - 更新 README.md 中的下載鏈接
   - 更新版本號

2. **宣傳**（可選）
   - 在相關社群分享
   - 更新專案描述

3. **監控**
   - 關注 Issues 和反饋
   - 收集用戶意見用於下一版本

## 版本差異說明

### v0.5.0 vs v0.3.0

#### 🆕 新增功能

**1. 🎬 全螢幕倒數遮罩（多螢幕支援）**
- 在倒數計時剩下 5 秒時顯示全螢幕透明黑色遮罩
- **多螢幕支援**：自動檢測所有顯示器，支援 Extend 模式（如 15.6" + 27" 外接螢幕）
- 為每個螢幕創建獨立的遮罩視窗，確保所有螢幕都被覆蓋
- 主螢幕顯示大號倒數數字：5, 4, 3, 2, 1
- 其他螢幕只顯示遮罩（不顯示數字）
- 提供更好的視覺提示，讓用戶清楚知道即將進入休息

**2. 🚫 移除休息時間的遮罩**
- 從休息返回工作時不再顯示倒數計時和遮罩
- 休息時間結束後直接恢復視窗，無需等待倒數
- 提供更流暢的用戶體驗

### v0.2.0 vs v0.1.0

#### 🆕 新增功能

**1. 🔊 倒數18秒提示音（v0.3.0 已更新為18秒，v0.5.0 繼續支援）**
- 當計時器倒數到最後18秒時，自動播放美妙的提示音
- 幫助用戶提前準備，避免錯過休息時間
- 每個計時週期只播放一次（防止重複播放）
- 音頻在獨立線程中播放，不會阻塞 UI

**2. 📦 安裝程式支援**
- **Inno Setup 安裝程式**（.exe 格式）
  - 標準 Windows 安裝流程
  - 支援桌面快捷方式、開始菜單
  - 開機自動啟動選項
  - 完整的卸載功能
  - 繁體中文和英文介面支援

**3. 🛠️ 開發工具**
- 自動化發布構建腳本（`build_release.py`）
- 一鍵構建 exe 和安裝程式

#### 🔧 技術改進

- 添加音頻播放功能（使用 pyglet 庫）
- 添加安裝程式構建腳本和配置文件
- 優化打包配置，包含音頻資源文件
- 更新依賴管理（添加 pyglet）

#### 📈 用戶體驗提升

- 倒數提示音讓用戶能更好地掌握時間
- 安裝程式提供更好的安裝和卸載體驗
- 更完善的文檔和構建指南

### v0.1.0 基礎功能

v0.1.0 包含以下核心功能（v0.5.0 繼續支援）：

- ⏱️ **智能計時器**：可調整倒計時時間（以 5 分鐘為單位，預設 30 分鐘）
- 🎯 **時間控制**：Start / Pause / Stop 完整控制
- 👁️ **眼睛休息模式**：工作時間結束後自動進入休息模式（5 分鐘），最小化所有視窗
- 🔄 **循環模式**：啟用後休息結束自動重新開始工作計時
- 🔽 **系統托盤整合**：可隱藏到系統托盤（右下角），點擊圖標顯示視窗
- 🚀 **開機自動啟動**：支援 Windows 啟動時自動執行
- 🎨 **鬧鐘圖標**：視窗標題欄顯示鬧鐘圖標，更易識別
- 🪟 **視窗管理**：休息時自動最小化所有視窗（使用 Win+M 快捷鍵）

## 版本號規範

建議使用 [Semantic Versioning](https://semver.org/)：

- `主版本號.次版本號.修訂號`
- 例如：`0.5.0`, `0.5.0`, `1.0.0`

## 常見問題

### Q: 如果安裝程式構建失敗怎麼辦？
A: 可以只上傳 `RelaxTime.exe`，用戶可以直接執行無需安裝。

### Q: 如何更新 Release？
A: GitHub 不支援直接更新 Release，需要創建新的 Release 版本。

### Q: 可以在 Release 中包含源代碼嗎？
A: 通常不需要，因為源代碼已經在 GitHub 倉庫中。如果需要，可以上傳源代碼 zip 文件。

